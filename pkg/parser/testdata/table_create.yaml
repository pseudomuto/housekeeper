tables:
    '`analytics-db`.`user-events`':
        name: '`user-events`'
        database: '`analytics-db`'
        cluster: '`prod-cluster`'
        operation: CREATE
        or_replace: false
        if_not_exists: true
        if_exists: false
        permanently: false
        sync: false
        engine: ReplicatedMergeTree('/clickhouse/tables/{shard}/user-events', '{replica}')
        columns:
            - name: id
              data_type: UInt64
            - name: '`user-name`'
              data_type: String
            - name: event_type
              data_type: String
            - name: '`created-at`'
              data_type: DateTime
              default: DEFAULT expression
        order_by: expression
    '`user-db`.`order-table`':
        name: '`order-table`'
        database: '`user-db`'
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: '`user-id`'
              data_type: UInt64
            - name: '`order-id`'
              data_type: String
            - name: '`order-date`'
              data_type: Date
            - name: '`select`'
              data_type: String
            - name: '`group`'
              data_type: LowCardinality(String)
        order_by: expression
    analytics.events:
        name: events
        database: analytics
        cluster: production
        operation: CREATE
        or_replace: true
        if_not_exists: true
        if_exists: false
        permanently: false
        sync: false
        engine: ReplicatedMergeTree('/clickhouse/tables/{shard}/events', '{replica}')
        comment: User events table
        columns:
            - name: id
              data_type: UInt64
            - name: user_id
              data_type: UInt64
            - name: event_type
              data_type: LowCardinality(String)
            - name: timestamp
              data_type: DateTime
              default: DEFAULT expression
            - name: data
              data_type: Map(String, String)
              default: DEFAULT expression
            - name: metadata
              data_type: Nullable(String)
              codec: CODEC(ZSTD)
            - name: tags
              data_type: Array(String)
              default: DEFAULT expression
            - name: location
              data_type: Tuple(lat Float64, lon Float64)
            - name: settings
              data_type: Nested(key String, value String)
            - name: temp_data
              data_type: String
              ttl: expression
              comment: Temporary data
        order_by: expression
        partition_by: expression
        primary_key: expression
        sample_by: expression
        ttl: expression
        settings:
            index_granularity: "8192"
            merge_with_ttl_timeout: "3600"
    analytics_data:
        name: analytics_data
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: user_id
              data_type: UInt64
            - name: event_type
              data_type: String
            - name: timestamp
              data_type: DateTime
            - name: revenue
              data_type: Decimal(10, 2)
        order_by: expression
    complex_table:
        name: complex_table
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: id
              data_type: UInt64
            - name: name
              data_type: String
            - name: category
              data_type: String
            - name: value
              data_type: Float64
            - name: created_at
              data_type: DateTime
        order_by: expression
    logs:
        name: logs
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: Log
        columns:
            - name: timestamp
              data_type: DateTime
            - name: level
              data_type: String
            - name: message
              data_type: String
    measurements:
        name: measurements
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: id
              data_type: UInt64
            - name: device_id
              data_type: FixedString(16)
            - name: value
              data_type: Decimal(10, 4)
            - name: precision_value
              data_type: Decimal128(6)
            - name: created_at
              data_type: DateTime64(3, 'UTC')
            - name: config_data
              data_type: String
              codec: CODEC(LZ4HC(9))
        order_by: expression
    search_logs:
        name: search_logs
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: id
              data_type: UInt64
            - name: query
              data_type: String
            - name: user_id
              data_type: UInt64
            - name: timestamp
              data_type: DateTime
            - name: category
              data_type: LowCardinality(String)
            - name: response_time
              data_type: Float32
        order_by: expression
        partition_by: expression
    test_projections:
        name: test_projections
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: id
              data_type: UInt64
            - name: name
              data_type: String
            - name: timestamp
              data_type: DateTime
        order_by: expression
    user_profiles:
        name: user_profiles
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: user_id
              data_type: UInt64
            - name: email
              data_type: String
            - name: age
              data_type: UInt8
            - name: profile_data
              data_type: Map(String, String)
            - name: created_at
              data_type: DateTime
              default: DEFAULT expression
            - name: updated_at
              data_type: DateTime
              default: DEFAULT expression
        order_by: expression
    users:
        name: users
        database: ""
        cluster: ""
        operation: CREATE
        or_replace: false
        if_not_exists: false
        if_exists: false
        permanently: false
        sync: false
        engine: MergeTree
        columns:
            - name: id
              data_type: UInt64
            - name: name
              data_type: String
            - name: email
              data_type: String
        order_by: expression
