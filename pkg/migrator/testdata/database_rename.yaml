description: "Database rename operations"
current:
  databases:
    old_analytics:
      engine: "Atomic"
      comment: "Analytics database"
      on_cluster: ""
    temp_db:
      engine: "Memory"
      comment: "Temporary database"
      on_cluster: "production"

target:
  databases:
    analytics:
      engine: "Atomic"
      comment: "Analytics database"
      on_cluster: ""
    staging_db:
      engine: "Memory"
      comment: "Temporary database"
      on_cluster: "production"

expected_diffs:
  - type: "RENAME"
    database_name: "old_analytics"
    new_database_name: "analytics"
    description: "Rename database 'old_analytics' to 'analytics'"
    up_sql: "RENAME DATABASE old_analytics TO analytics;"
    down_sql: "RENAME DATABASE analytics TO old_analytics;"
  - type: "RENAME"
    database_name: "temp_db"
    new_database_name: "staging_db"
    description: "Rename database 'temp_db' to 'staging_db'"
    up_sql: "RENAME DATABASE temp_db TO staging_db ON CLUSTER production;"
    down_sql: "RENAME DATABASE staging_db TO temp_db ON CLUSTER production;"