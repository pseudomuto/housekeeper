description: "Altering existing tables with column changes"
current_sql: |
  CREATE TABLE users (
      id UInt64,
      name String
  ) ENGINE = MergeTree()
  ORDER BY id;
target_sql: |
  CREATE TABLE users (
      id UInt64,
      name String,
      email String
  ) ENGINE = MergeTree()
  ORDER BY id;
expected_migration:
  sql_contains:
    - "ALTER TABLE users"
    - "ADD COLUMN email String"
  diff_count: 1
  diff_types:
    - "ALTER"