description: "Replacing a dictionary (comment changed)"
current_sql: |
  CREATE DICTIONARY users_dict (
    id UInt64,
    name String
  ) PRIMARY KEY id
  SOURCE(HTTP(url 'http://example.com/users'))
  LAYOUT(FLAT())
  LIFETIME(600)
  COMMENT 'Old comment';
target_sql: |
  CREATE DICTIONARY users_dict (
    id UInt64,
    name String
  ) PRIMARY KEY id
  SOURCE(HTTP(url 'http://example.com/users'))
  LAYOUT(FLAT())
  LIFETIME(600)
  COMMENT 'New comment';
expected_migration:
  up_contains:
    - CREATE OR REPLACE DICTIONARY users_dict
    - COMMENT 'New comment';
  down_contains:
    - CREATE OR REPLACE DICTIONARY users_dict
    - COMMENT 'Old comment';
  diff_count: 1
  diff_types:
    - "REPLACE"

